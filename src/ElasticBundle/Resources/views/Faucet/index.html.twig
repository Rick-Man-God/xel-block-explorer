{% extends 'ElasticBundle::layout.html.twig' %}
{% block body %}
    <!-- Content Header (Page header) -->
    <section class="content-header">
    </section>

    <!-- Main content -->
    <section class="content">

        <div class="col-xs-12 col-lg-6">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Faucet</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">

                    {% if error %}
                        <div class="alert alert-warning alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-warning"></i> Oops!</h4>
                            {{ error }}
                        </div>
                    {% endif %}
                    {% if success %}
                        <div class="alert alert-warning alert-dismissible">
                            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                            <h4><i class="icon fa fa-warning"></i> Hooray!</h4>
                            {{ success }}
                        </div>
                    {% endif %}

                    Submit your XEL address to get 10,000.00 XEL.
                    <form class="search-form" action="{{ path('elastic_faucet') }}" method="post">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="address" name="address">

                            <div class="input-group-btn">
                                <button type="submit" name="submit" class="btn btn-default btn-flat"><i class="fa fa-money"></i>
                                </button>
                            </div>
                        </div>
                        <!-- /.input-group -->
                    </form>

                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>

        <div class="col-xs-12 col-lg-6">
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">List of payout</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">

                    {% if paidAddresses %}
                    <table id="elastic-faucet-list" class="table table-bordered table-striped">
                        <thead>
                        <tr>
                            <th>Date</th>
                            <th>Account</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for paidDate,paidAddress in paidAddresses %}
                            <tr>
                                <td>
                                    {{ paidDate }}
                                </td>
                                <td>
                                    <a href="{{ path('elastic_address',{'address': paidAddress}) }}">{{ paidAddress }}</a>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                        <tfoot>
                        <tr>
                            <th>Age</th>
                            <th>Account</th>
                        </tr>
                        </tfoot>
                    </table>
                    {% endif %}
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>

    </section>
    <!-- /.content -->
{% endblock %}
{% block page_scripts %}

    <script>

        $('#elastic-faucet-list').DataTable({
            "searching": false,
            "order": [[ 0, "desc" ]]
        });

    </script>

{% endblock %}